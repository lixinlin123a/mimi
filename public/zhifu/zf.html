<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>支付</title>
		<style>
		body{background:url(imgs/zfb.jpg);
      
        background-repeat:no-repeat;}
			.zf{width:800px;height:500px;margin:80px auto;background:#FFFFFF;
			background:url(imgs/zhb.jpg)none;border-radius:10px 10px;}
			.extarea{position:absolute;margin:0px 0px 0px 0px;}
			.top{margin:100px 0px 0px 0px;}
			.img1{margin:0px 0px -19px 0px;}
			.img2{margin:0px 0px -30px 0px;}
			.input{margin:173px 0px 0px 355px;position:absolute;
			width:88px;height:44px;background:#69EA91;
			font-size:18px;font-weight:bold;font-family:"微软雅黑";color:red;
			}

/*table start*/
			      h1 {
        text-align:center;
      }
      table {
        margin:14px 418px;
        width:48%;
        border:2px solid #aaa;
        border-collapse:collapse;
      }
      table th, table td {
        border:2px solid #aaa;
        padding:0px;
      }
      th {
        background-color:#eee;
      }
 /*table end*/

		</style>

		<script>
    //1.location
    function f1(){
    	var b=confirm("支付成功需要回到主页吗？");
    	if(b){
    		location.href="../index.html";
    	}
    }
   
    
</script>

	</head>
	<body>
	   <div><a href="">首页</a></div>
		<div class="zf">
			<form>
			<p>
      付款方式：
      <input type="radio" name="sec" checked/>在线支付
      <input type="radio" name="sec"/>货到付款
    </p>
        
         <p>
        城市: 
        <select>
          <option>请选择</option>
          <option selected>大十字</option>
          <option >小围在</option>
          <option>173开发区</option>
        </select>
    
        </p>
       
       <p>
       收货地址:
       <textarea rows="5" cols="30" class="extarea"> 小围在</textarea>
      </p>

     <p class="top">
      收货人：<input type="text" name="ename"/>
      </p>
      <p>
      电&nbsp;&nbsp;话：<input type="text" name="gender"/>
      </p>
     
    <input type="radio" name="sec" checked/><img src="imgs/zf.jpg" style="width:140px;height:59px;" class="img1"/>
     <input type="radio" name="sec"/><img src="imgs/wx.png" class="img2"/>
	  
     <!--
	 勾选时有问题
	 <input type="checkbox" name="sec" checked/><img src="imgs/zf.jpg" style="width:140px;height:59px;" class="img1"/>
     <input type="checkbox" name="sec"/> <img src="imgs/wx.png" class="img2"/>-->

     <input type="button" value="确认支付" class="input"
     onclick="f1();"/>

     </form>


	 <!--购物车-->

	 <!--table开始-->
	      <!-- <h1>真划算</h1>-->
    <table style="margin:-31px 0px 0px 418px;">
      <tr>
        <th>商品</th>
        <th>单价(元)</th>
        <th>种类</th>
        
        <th>库存</th>
        <th>好评率</th>
        <th>操作</th>
      </tr>   
      <tr>
        <td>特色火锅</td>
        <td style="color:red;">80</td>
        <td>特色</td>
        <td>893</td>
        <td>98%</td>
        <td align="center">
          <input type="button" value="购买" onclick="add_shoppingcart(this);"/>
        </td>
      </tr>
     <!-- <tr>
        <td>微软X470键盘</td>
        <td>150</td>
        <td>黑色</td>
        <td>9028</td>
        <td>96%</td>
        <td align="center">
          <input type="button" value="加入购物车" onclick="add_shoppingcart(this);"/>
        </td>
      </tr>
      <tr>
        <td>洛克iphone6手机壳</td>
        <td>60</td>
        <td>透明</td>
        <td>672</td>
        <td>99%</td>
        <td align="center">
          <input type="button" value="加入购物车" onclick="add_shoppingcart(this);"/>
        </td>
      </tr>
      <tr>
        <td>蓝牙耳机</td>
        <td>100</td>
        <td>蓝色</td>
        <td>8937</td>
        <td>95%</td>
        <td align="center">
          <input type="button" value="加入购物车" onclick="add_shoppingcart(this);"/>
        </td>
      </tr>
      <tr>
        <td>金士顿U盘</td>
        <td>70</td>
        <td>红色</td>
        <td>482</td>
        <td>100%</td>
        <td align="center">
          <input type="button" value="加入购物车" onclick="add_shoppingcart(this);"/>
        </td>
      </tr>-->
    </table>
  
    <!--<h1>购物车</h1>-->
    <table>
      <thead>
        <tr>
          <th>商品</th>
          <th>单价(元)</th>
          <th>数量</th>
          <th style="color:red;">金额(元)</th>
          <th>删除</th>
		  <th></th>
        </tr>
      </thead>
      <tbody id="goods">

      <!--start
        <tr>
          <td>罗技M185鼠标</td>
          <td>80</td>
          <td align="center">
            <input type="button" value="-"/>
            <input type="text" size="3" readonly value="1"/>
            <input type="button" value="+"/>
          </td>
          <td>80</td>
          <td align="center"><input type="button" value="x"/></td>
        </tr>
		end-->

      </tbody>
      <tfoot>
        <tr>
          <td colspan="3" align="right">总计</td>
          <td id="total" style="color:red;"></td>
           <td></td>
             
        </tr>
      </tfoot>
    </table> 
<!--table end-->
     
		</div>
	</body>
     <script>
        //加入购物车 
        //调用时传入了this,它就是真正点的
        //按钮对象，但接收此对象的参数名
        //不能是关键this 
        function add_shoppingcart(btn){
        	//h获取按钮的爷爷tr
        	var tr =btn.parentNode.parentNode;
        	//
        	var tds=tr.getElementsByTagName("td");
        	//获取第一个td的内容（商品名）
        	var name =tds[0].innerHTML;
        	
        	//获取第2个td内容（单价）
        	var price=tds[1].innerHTML;
        	//阶段性测试 
        	console.log(name+","+price);
        	//创建新的行 
        	var ntr=document.createElement("tr");
        	ntr.innerHTML =
        	  '<td>'+name+'</td>'+
              '<td>'+price+'</td>'+
              '<td align="center">'+
              ' <input type="button" value="-" onclick="decrease(this);"/> '+
             
              '<input type="text" size="1" readonly value="1"/> '+
              
             '<input type="button" value="+" onclick="increase(this);"/> '+
             ' </td>'+
             '<td>'+price+'</td>'+
             '<td align="center"><input type="button" value="x" onclick="del(this);"/></td>';
        	//将此行追加打牌tbody下
        	var tbody=
        		document.getElementById("goods");
        	tbody.appendChild(ntr);
        	
        	sum();
        }
        //删除
        function del(btn){
        	//获取爷爷的tr
        	var tr=btn.parentNode.parentNode;
        	//删除该行 
        	tr.parentNode.removeChild(tr);
        	sum();
        }	
        	//加法
        	function increase(btn){
        		//获取按钮的哥哥（文本框） 
        		var td3=btn.parentNode;
        		var text=
        		td3.getElementsByTagName("input")[1];
        		//将文本框的值 +1
        		var amount =text.value;
        		text.value=++amount;
        		//获取按钮的爷爷tr 
        		var tr=td3.parentNode;
        		//获取tr的孩子tds 
        		var tds=tr.getElementsByTagName("td");
        		//获取第2个td的内容（单价）
        		var price=tds[1].innerHTML;
        		//计算金额并写入第4个td内 
        		tds[3].innerHTML=price*amount;
        		sum();
        	}
        	
        	//减法
    	//当数量为1时不能再减少了(return)
        	function decrease(btn){
        		var td3=btn.parentNode;
        		var text=
        		td3.getElementsByTagName("input")[1];
        		///将文本框内的值-1
        		var amount =text.value;
        		
        		if(amount>=1){
        			text.value=--amount;
        		}else{
        			return;
        		}
        		var tr=td3.parentNode;
        		//
        		var tds=tr.getElementsByTagName("td");
        		//获取第2个td的内容（单价）
        		var price=tds[1].innerHTML;
        	    //计算金额并写入第4个td内 
        		tds[3].innerHTML=price*amount;
        		sum();
        		
        	}
        //合计
        function sum(){
        	//获取tbody
        	var tbody =
        		document.getElementById("goods");
        	//获取tbody下所有的行trs
        	var trs=
        		tbody.getElementsByTagName("tr");
        	//遍历这些行 
        	var s=0;
        	for(var i=0;i<trs.length;i++){
        		//获取每一行的第4例的内容（金额）
        		var tds=
        		trs[i].getElementsByTagName("td");
        		
        		var mny =tds[3].innerHTML;
        		s +=parseFloat(mny);
        		
        	}
        	//将合计值写入合计例 （id="total")
        	var total=
        		document.getElementById("total");
        	total.innerHTML =s;
        }
    </script>

</html>
